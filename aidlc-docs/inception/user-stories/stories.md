# User Stories

스토리 분류: User Journey-Based | 세분화: Feature 수준 | 수용 기준: Given-When-Then

---

## Journey 1: 고객 주문 여정

### US-1.1: 테이블 자동 로그인
**As a** 고객,
**I want to** 태블릿에 앉으면 별도 로그인 없이 바로 메뉴 화면을 볼 수 있기를,
**So that** 대기 시간 없이 즉시 주문을 시작할 수 있다.

**Acceptance Criteria:**
- Given 관리자가 태블릿 초기 설정을 완료했을 때, When 태블릿 브라우저를 열면, Then 저장된 정보로 자동 로그인되어 메뉴 화면이 표시된다
- Given 자동 로그인이 성공했을 때, When 16시간이 경과하면, Then 세션이 만료되고 재로그인이 필요하다
- Given 브라우저를 새로고침했을 때, When 세션이 유효하면, Then 자동 로그인 상태가 유지된다

**Persona**: 고객

---

### US-1.2: 메뉴 카테고리 탐색
**As a** 고객,
**I want to** 카테고리별로 메뉴를 탐색할 수 있기를,
**So that** 원하는 종류의 음식을 빠르게 찾을 수 있다.

**Acceptance Criteria:**
- Given 메뉴 화면에 있을 때, When 카테고리 탭을 선택하면, Then 해당 카테고리의 메뉴만 표시된다
- Given 메뉴가 표시될 때, When 화면을 보면, Then 메뉴명, 가격, 설명, 이미지가 카드 형태로 표시된다
- Given 카테고리 간 이동할 때, When 다른 카테고리를 탭하면, Then 즉시 해당 카테고리로 전환된다

**Persona**: 고객

---

### US-1.3: 장바구니에 메뉴 추가
**As a** 고객,
**I want to** 메뉴 카드를 탭하여 바로 장바구니에 추가할 수 있기를,
**So that** 빠르게 원하는 메뉴를 선택할 수 있다.

**Acceptance Criteria:**
- Given 메뉴 화면에 있을 때, When 메뉴 카드를 탭하면, Then 해당 메뉴가 장바구니에 1개 추가된다
- Given 이미 장바구니에 있는 메뉴를 탭했을 때, When 같은 메뉴 카드를 다시 탭하면, Then 해당 메뉴의 수량이 1 증가한다
- Given 메뉴가 추가되었을 때, When 우측 사이드 패널을 보면, Then 추가된 메뉴와 총 금액이 표시된다

**Persona**: 고객

---

### US-1.4: 장바구니 수량 관리
**As a** 고객,
**I want to** 장바구니에서 메뉴 수량을 조절하거나 삭제할 수 있기를,
**So that** 주문 전에 원하는 대로 수정할 수 있다.

**Acceptance Criteria:**
- Given 장바구니에 메뉴가 있을 때, When 수량 증가 버튼을 탭하면, Then 수량이 1 증가하고 총 금액이 재계산된다
- Given 장바구니에 메뉴가 있을 때, When 수량 감소 버튼을 탭하여 수량이 0이 되면, Then 해당 메뉴가 장바구니에서 자동 삭제된다
- Given 장바구니에 메뉴가 있을 때, When 장바구니 비우기를 탭하면, Then 모든 메뉴가 삭제되고 총 금액이 0이 된다
- Given 장바구니 내용이 변경되었을 때, When 페이지를 새로고침하면, Then 장바구니 내용이 유지된다

**Persona**: 고객

---

### US-1.5: 주문 생성
**As a** 고객,
**I want to** 장바구니의 메뉴를 주문으로 확정할 수 있기를,
**So that** 매장에 주문을 전달할 수 있다.

**Acceptance Criteria:**
- Given 장바구니에 메뉴가 있을 때, When 주문하기 버튼을 탭하면, Then 주문 내역 최종 확인 화면이 표시된다
- Given 주문 확인 화면에서, When 주문 확정 버튼을 탭하면, Then 주문이 서버로 전송된다
- Given 주문이 성공했을 때, When 성공 페이지가 표시되면, Then 주문 번호와 주문 내역 요약이 표시되고 5초 후 메뉴 화면으로 자동 이동한다
- Given 주문이 성공했을 때, When 메뉴 화면으로 돌아오면, Then 장바구니가 비워져 있다
- Given 장바구니가 비어있을 때, When 주문하기 버튼을 보면, Then 버튼이 비활성화(disabled) 상태이다
- Given 주문이 실패했을 때, When 에러가 발생하면, Then 에러 메시지가 표시되고 장바구니는 유지된다
- Given 이전 주문이 있는 상태에서, When 새로운 메뉴를 장바구니에 담고 주문하면, Then 특별한 안내 없이 동일한 주문 플로우가 진행되고 새 주문 번호가 발급된다

**Persona**: 고객

---

### US-1.6: 주문 내역 조회
**As a** 고객,
**I want to** 현재 세션의 주문 내역과 상태를 확인할 수 있기를,
**So that** 주문이 잘 접수되었는지, 현재 진행 상태가 어떤지 알 수 있다.

**Acceptance Criteria:**
- Given 메뉴 화면에 있을 때, When "주문내역 보기" 버튼을 탭하면, Then 주문 내역 화면으로 이동한다
- Given 주문 내역 화면에서, When 주문 목록을 보면, Then 현재 세션의 주문만 시간 순으로 표시된다
- Given 주문 내역이 표시될 때, When 각 주문을 보면, Then 주문 번호, 시각, 메뉴/수량, 금액, 상태가 표시된다
- Given 관리자가 주문 상태를 변경했을 때, When 고객 화면에서 보면, Then SSE를 통해 실시간으로 상태가 업데이트된다

**Persona**: 고객

---

### US-1.7: 언어 전환
**As a** 영어권 고객,
**I want to** 화면 언어를 영어로 전환할 수 있기를,
**So that** 메뉴와 시스템 안내를 이해할 수 있다.

**Acceptance Criteria:**
- Given 고객 화면에 있을 때, When 상단 언어 전환 버튼(🇰🇷/🇺🇸)을 탭하면, Then 화면 언어가 즉시 전환된다
- Given 영어 모드일 때, When 메뉴를 보면, Then 메뉴명과 설명이 영어로 표시된다
- Given 영어 모드일 때, When 주문 상태를 보면, Then Pending/Preparing/Completed로 표시된다
- Given 영어 모드일 때, When 가격을 보면, Then 원화(₩)로 표시된다
- Given 영어 모드일 때, When 시스템 메시지가 표시되면, Then 영어로 표시된다

**Persona**: 고객

---

### US-1.8: 세션 만료 안내
**As a** 고객,
**I want to** 세션이 종료되었을 때 명확한 안내를 받을 수 있기를,
**So that** 상황을 이해하고 적절히 대응할 수 있다.

**Acceptance Criteria:**
- Given 관리자가 테이블 이용 완료 처리를 했을 때, When 고객 화면을 보면, Then "이용이 종료되었습니다. 직원에게 문의해주세요" 안내 화면이 표시된다
- Given 세션이 만료되었을 때, When 고객이 어떤 동작을 시도하면, Then 안내 화면이 표시된다

**Persona**: 고객

---

## Journey 2: 관리자 운영 여정

### US-2.1: 관리자 로그인
**As a** 관리자,
**I want to** 매장 관리 시스템에 안전하게 로그인할 수 있기를,
**So that** 매장 운영을 시작할 수 있다.

**Acceptance Criteria:**
- Given 로그인 화면에서, When 매장 식별자, 사용자명, 비밀번호를 입력하고 로그인하면, Then 주문 모니터링 대시보드가 표시된다
- Given 로그인에 성공했을 때, When 16시간이 경과하면, Then 자동 로그아웃된다
- Given 로그인에 성공했을 때, When 브라우저를 새로고침하면, Then 세션이 유지된다
- Given 로그인에 5회 실패했을 때, When 다시 로그인을 시도하면, Then 5분간 로그인이 차단된다

**Persona**: 관리자

---

### US-2.2: 실시간 주문 모니터링
**As a** 관리자,
**I want to** 들어오는 주문을 실시간으로 확인할 수 있기를,
**So that** 주문을 놓치지 않고 빠르게 처리할 수 있다.

**Acceptance Criteria:**
- Given 대시보드에 있을 때, When 고객이 주문을 생성하면, Then 2초 이내에 해당 테이블 카드에 주문이 표시된다
- Given 대시보드에서, When 테이블 카드를 보면, Then 총 주문액과 최신 주문 5개가 미리보기로 표시된다
- Given 신규 주문이 들어왔을 때, When 대시보드를 보면, Then 해당 주문이 시각적으로 강조된다
- Given 대시보드에서, When 활성/비활성 테이블을 보면, Then 시각적으로 구분되어 표시된다
- Given 대시보드에서, When 상단 네비게이션 바를 보면, Then "주문 모니터링"과 "메뉴 관리" 탭이 표시되고 탭 클릭으로 화면을 전환할 수 있다
- Given 대시보드에서, When 특정 테이블을 필터링하면, Then 선택한 테이블의 주문만 표시된다

**Persona**: 관리자

---

### US-2.3: 주문 상세 확인 및 상태 변경
**As a** 관리자,
**I want to** 주문 상세를 확인하고 상태를 변경할 수 있기를,
**So that** 주문 처리 진행 상황을 관리할 수 있다.

**Acceptance Criteria:**
- Given 대시보드에서, When 테이블 카드를 클릭하면, Then 사이드 패널에 해당 테이블의 전체 주문 목록이 표시된다
- Given 주문 상세 패널에서, When 상태 변경 버튼을 클릭하면, Then 주문 상태가 다음 단계로 즉시 변경된다 (대기중→준비중→완료)
- Given 주문 상태가 변경되었을 때, When 고객 화면을 보면, Then SSE를 통해 실시간으로 반영된다

**Persona**: 관리자

---

### US-2.4: 테이블 초기 설정
**As a** 관리자,
**I want to** 관리자 화면에서 테이블 태블릿을 설정할 수 있기를,
**So that** 고객이 사용할 태블릿을 준비할 수 있다.

**Acceptance Criteria:**
- Given 관리자 화면에서, When 테이블 번호와 비밀번호를 설정하면, Then 해당 테이블의 인증 정보가 생성된다
- Given 테이블 설정이 완료되었을 때, When 태블릿에서 해당 정보를 입력하면, Then 자동 로그인이 활성화된다

**Persona**: 관리자

---

### US-2.5: 주문 삭제
**As a** 관리자,
**I want to** 잘못된 주문을 삭제할 수 있기를,
**So that** 주문 오류를 정정할 수 있다.

**Acceptance Criteria:**
- Given 주문 상세 패널에서, When 주문 삭제 버튼을 클릭하면, Then 확인 팝업이 표시된다
- Given 확인 팝업에서, When 삭제를 확인하면, Then 주문이 소프트 삭제되고 테이블 총 주문액이 재계산된다
- Given 주문이 삭제되었을 때, When 과거 내역에서 보면, Then "삭제됨"으로 표시된다

**Persona**: 관리자

---

### US-2.6: 테이블 이용 완료 처리
**As a** 관리자,
**I want to** 고객 퇴장 시 테이블 이용 완료 처리를 할 수 있기를,
**So that** 다음 고객이 깨끗한 상태에서 시작할 수 있다.

**Acceptance Criteria:**
- Given 테이블 상세 패널에서, When 이용 완료 버튼을 클릭하면, Then 확인 팝업이 표시된다
- Given 확인 팝업에서, When 이용 완료를 확인하면, Then 해당 세션의 주문 내역이 과거 이력으로 이동한다
- Given 이용 완료 처리 후, When 테이블 카드를 보면, Then 현재 주문 목록과 총 주문액이 0으로 리셋된다
- Given 이용 완료 처리 후, When 고객 태블릿을 보면, Then "이용이 종료되었습니다" 안내 화면이 표시된다

**Persona**: 관리자

---

### US-2.7: 과거 주문 내역 조회
**As a** 관리자,
**I want to** 테이블별 과거 주문 내역을 조회할 수 있기를,
**So that** 이전 주문 기록을 확인할 수 있다.

**Acceptance Criteria:**
- Given 테이블 상세 패널에서, When "과거 내역" 버튼을 클릭하면, Then 해당 테이블의 과거 주문 목록이 시간 역순으로 표시된다
- Given 과거 내역 화면에서, When 각 주문을 보면, Then 주문 번호, 시각, 메뉴 목록, 총 금액, 이용 완료 시각이 표시된다
- Given 과거 내역 화면에서, When 날짜 필터를 적용하면, Then 해당 날짜의 주문만 표시된다
- Given 과거 내역 화면에서, When "닫기" 버튼을 클릭하면, Then 대시보드로 복귀한다

**Persona**: 관리자

---

### US-2.8: 메뉴 관리
**As a** 관리자,
**I want to** 메뉴를 등록, 수정, 삭제할 수 있기를,
**So that** 매장 메뉴를 최신 상태로 유지할 수 있다.

**Acceptance Criteria:**
- Given 메뉴 관리 화면에서, When 메뉴를 등록하면, Then 메뉴명(한/영), 가격, 설명(한/영), 카테고리, 이미지 URL을 입력할 수 있다
- Given 메뉴 등록 시, When 필수 필드가 비어있으면, Then 검증 에러가 표시된다
- Given 메뉴 등록 시, When 가격이 유효 범위를 벗어나면, Then 검증 에러가 표시된다
- Given 메뉴 목록에서, When 메뉴를 수정하면, Then 변경 사항이 즉시 반영된다
- Given 메뉴 목록에서, When 메뉴를 삭제하면, Then 해당 메뉴가 목록에서 제거된다
- Given 메뉴 목록에서, When 노출 순서를 조정하면, Then 고객 화면에 변경된 순서로 표시된다

**Persona**: 관리자

---

### US-2.9: 카테고리 관리
**As a** 관리자,
**I want to** 메뉴 카테고리를 추가, 수정, 삭제, 순서 조정할 수 있기를,
**So that** 메뉴 분류 체계를 관리할 수 있다.

**Acceptance Criteria:**
- Given 메뉴 관리 화면에서, When 카테고리를 추가하면, Then 새 카테고리가 생성되고 메뉴를 할당할 수 있다
- Given 카테고리 목록에서, When 카테고리명을 수정하면, Then 변경 사항이 즉시 반영된다
- Given 카테고리 목록에서, When 카테고리를 삭제하면, Then 해당 카테고리가 제거된다
- Given 카테고리 목록에서, When 순서를 조정하면, Then 고객 화면에 변경된 순서로 표시된다

**Persona**: 관리자

---

## 스토리 요약

| Journey | 스토리 수 | 스토리 ID |
|---|---|---|
| 고객 주문 여정 | 8 | US-1.1 ~ US-1.8 |
| 관리자 운영 여정 | 9 | US-2.1 ~ US-2.9 |
| **합계** | **17** | |

## 페르소나-스토리 매핑

| 페르소나 | 스토리 |
|---|---|
| 고객 | US-1.1, US-1.2, US-1.3, US-1.4, US-1.5, US-1.6, US-1.7, US-1.8 |
| 관리자 | US-2.1, US-2.2, US-2.3, US-2.4, US-2.5, US-2.6, US-2.7, US-2.8, US-2.9 |
